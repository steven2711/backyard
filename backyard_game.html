<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backyard Life - 8-Bit Game</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        body {
            margin: 0;
            padding: 0;
            background: #2c3e50;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: 'Press Start 2P', monospace;
            color: white;
        }
        
        #gameContainer {
            text-align: center;
            background: #34495e;
            padding: 20px;
            border: 4px solid #ecf0f1;
            border-radius: 10px;
        }
        
        #gameCanvas {
            border: 2px solid #ecf0f1;
            background: #27ae60;
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }
        
        #ui {
            margin-top: 15px;
            font-size: 12px;
        }
        
        #controls {
            margin-top: 10px;
            font-size: 8px;
            color: #bdc3c7;
        }
        
        .activity-message {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: #f1c40f;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 10px;
            z-index: 1000;
            display: none;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <h1 style="font-size: 16px; margin-bottom: 10px;">BACKYARD LIFE</h1>
        <div style="position: relative;">
            <canvas id="gameCanvas" width="640" height="480"></canvas>
            <div id="activityMessage" class="activity-message"></div>
        </div>
        <div id="ui">
            <div>Days in Backyard: <span id="dayCounter">0</span></div>
        </div>
        <div id="controls">
            Use WASD or Arrow Keys to Move | Space to Interact
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const dayCounter = document.getElementById('dayCounter');
        const activityMessage = document.getElementById('activityMessage');
        
        // Game state
        let days = 0;
        let gameTime = 0;
        let lastTime = 0;
        
        // Player object
        const player = {
            x: 320,
            y: 240,
            width: 16,
            height: 16,
            speed: 2,
            color: '#e74c3c'
        };
        
        // Input handling
        const keys = {};
        
        document.addEventListener('keydown', (e) => {
            keys[e.code] = true;
        });
        
        document.addEventListener('keyup', (e) => {
            keys[e.code] = false;
        });
        
        // Interactive objects in the backyard
        const objects = [
            {
                x: 100, y: 100, width: 32, height: 32,
                color: '#8b4513', type: 'workbench',
                activity: 'Building a chair! +1 furniture point'
            },
            {
                x: 500, y: 150, width: 24, height: 24,
                color: '#ff6b35', type: 'fire',
                activity: 'Sitting by the warm fire... relaxing!'
            },
            {
                x: 50, y: 300, width: 20, height: 20,
                color: '#7f8c8d', type: 'trash',
                activity: 'Throwing trash over the fence! Naughty!'
            },
            {
                x: 400, y: 350, width: 28, height: 28,
                color: '#27ae60', type: 'garden',
                activity: 'Tending to the garden... peaceful!'
            },
            {
                x: 200, y: 400, width: 40, height: 16,
                color: '#34495e', type: 'fence',
                activity: 'Checking the fence... seems sturdy!'
            },
            {
                x: 550, y: 50, width: 16, height: 16,
                color: '#f39c12', type: 'shed',
                activity: 'Rummaging through the shed...'
            }
        ];
        
        // Draw pixel-perfect rectangle
        function drawPixelRect(x, y, width, height, color) {
            ctx.fillStyle = color;
            ctx.fillRect(Math.floor(x), Math.floor(y), width, height);
        }
        
        // Draw the player (simple 8-bit character)
        function drawPlayer() {
            // Body
            drawPixelRect(player.x, player.y + 8, 16, 8, player.color);
            // Head
            drawPixelRect(player.x + 4, player.y, 8, 8, '#fdbcb4');
            // Eyes
            drawPixelRect(player.x + 5, player.y + 2, 2, 2, '#000');
            drawPixelRect(player.x + 9, player.y + 2, 2, 2, '#000');
            // Hat
            drawPixelRect(player.x + 2, player.y - 2, 12, 4, '#3498db');
        }
        
        // Draw interactive objects
        function drawObjects() {
            objects.forEach(obj => {
                drawPixelRect(obj.x, obj.y, obj.width, obj.height, obj.color);
                
                // Add some details based on type
                switch(obj.type) {
                    case 'fire':
                        // Fire effect
                        drawPixelRect(obj.x + 8, obj.y - 4, 8, 4, '#f1c40f');
                        drawPixelRect(obj.x + 12, obj.y - 8, 4, 4, '#e67e22');
                        break;
                    case 'workbench':
                        // Tools on workbench
                        drawPixelRect(obj.x + 4, obj.y + 4, 4, 4, '#95a5a6');
                        drawPixelRect(obj.x + 20, obj.y + 8, 8, 4, '#f39c12');
                        break;
                    case 'garden':
                        // Plants
                        drawPixelRect(obj.x + 4, obj.y - 4, 4, 8, '#2ecc71');
                        drawPixelRect(obj.x + 12, obj.y - 6, 4, 10, '#2ecc71');
                        drawPixelRect(obj.x + 20, obj.y - 2, 4, 6, '#2ecc71');
                        break;
                }
            });
        }
        
        // Check collision with objects
        function checkCollisions() {
            if (keys['Space']) {
                objects.forEach(obj => {
                    if (player.x < obj.x + obj.width &&
                        player.x + player.width > obj.x &&
                        player.y < obj.y + obj.height &&
                        player.y + player.height > obj.y) {
                        
                        showActivity(obj.activity);
                    }
                });
            }
        }
        
        // Show activity message
        function showActivity(message) {
            activityMessage.textContent = message;
            activityMessage.style.display = 'block';
            setTimeout(() => {
                activityMessage.style.display = 'none';
            }, 2000);
        }
        
        // Update player position
        function updatePlayer() {
            let newX = player.x;
            let newY = player.y;
            
            if (keys['KeyW'] || keys['ArrowUp']) newY -= player.speed;
            if (keys['KeyS'] || keys['ArrowDown']) newY += player.speed;
            if (keys['KeyA'] || keys['ArrowLeft']) newX -= player.speed;
            if (keys['KeyD'] || keys['ArrowRight']) newX += player.speed;
            
            // Keep player within bounds
            if (newX >= 0 && newX <= canvas.width - player.width) {
                player.x = newX;
            }
            if (newY >= 0 && newY <= canvas.height - player.height) {
                player.y = newY;
            }
        }
        
        // Update game time and day counter
        function updateTime(currentTime) {
            gameTime += currentTime - lastTime;
            lastTime = currentTime;
            
            // Increment day counter every 10 seconds
            if (gameTime > 10000) {
                days++;
                dayCounter.textContent = days;
                gameTime = 0;
            }
        }
        
        // Draw background
        function drawBackground() {
            // Grass background
            ctx.fillStyle = '#27ae60';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Add some texture with darker grass spots
            ctx.fillStyle = '#229954';
            for (let i = 0; i < 50; i++) {
                const x = (i * 47) % canvas.width;
                const y = (i * 23) % canvas.height;
                ctx.fillRect(x, y, 4, 4);
            }
            
            // Fence around the yard
            ctx.fillStyle = '#8b4513';
            ctx.fillRect(0, 0, canvas.width, 8); // Top
            ctx.fillRect(0, canvas.height - 8, canvas.width, 8); // Bottom
            ctx.fillRect(0, 0, 8, canvas.height); // Left
            ctx.fillRect(canvas.width - 8, 0, 8, canvas.height); // Right
        }
        
        // Main game loop
        function gameLoop(currentTime) {
            if (!lastTime) lastTime = currentTime;
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Update
            updateTime(currentTime);
            updatePlayer();
            checkCollisions();
            
            // Draw
            drawBackground();
            drawObjects();
            drawPlayer();
            
            requestAnimationFrame(gameLoop);
        }
        
        // Start the game
        requestAnimationFrame(gameLoop);
    </script>
</body>
</html>